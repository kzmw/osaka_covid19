<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="content-type" charset="utf-8">
  <meta name="viewport" content="width=device-width" >
<meta http-equiv="Expires" content="1800">
  <title>大学入学共通テスト予想問題 地理Ｂ</title>
<script>
var interval;
function timer_before(){
var test_time = 3600000;
var time = document.getElementById('rest_time').textContent;
if(!(time == '1:00:00')){ var splits = time.split(':');
test_time = (Number(splits[0])*3600 + Number(splits[1])*60 + Number(splits[2]))*1000 };
timer(test_time) }

function timer(test_time){
document.getElementById('start').disabled = true;
document.getElementById('stop').disabled = false;
document.getElementById('reset').disabled = false;
document.getElementById('submit').disabled = true;
document.getElementById('start').value = '試験開始'
var start = new Date();
var goal = new Date();
goal.setTime(start.getTime() + test_time);

interval = setInterval(function(){
var now = new Date();
var difference = Math.round((goal.getTime() - now.getTime())/1000) * 1000;
var time = "2000/01/01 0:00:00";
var time_date = new Date(time);
time_date.setTime(time_date.getTime() + difference);
var hours = time_date.getHours();
var minutes = ("0" + time_date.getMinutes()).slice(-2);
var seconds = ("0" + time_date.getSeconds()).slice(-2);
if ((hours + ":" + minutes + ":" + seconds) == "0:00:00"){
clearInterval(interval);
};
document.getElementById('rest_time').textContent = hours + ":" + minutes + ":" + seconds;
}, 1000);
}

function reset(){
 clearInterval(interval); 
  ret = confirm("試験を終了してよろしいですか？解答は送信されず，リセットされます。");
  if (ret == true){
document.getElementById('start').disabled = false;
document.getElementById('stop').disabled = true;
document.getElementById('reset').disabled = true;
document.getElementById('submit').disabled = true;
document.getElementById('start').value = '試験開始'
document.getElementById('rest_time').textContent = '1:00:00'
var name;
  for(var i=1;i<=30;i++){
name = 'no' + i
 for(var element of document.getElementsByName(name)) {
    element.checked = false;
  }
}
      
  }else if (ret == false){timer_before()
  }
}

function stop(){
clearInterval(interval);
document.getElementById('start').disabled = false;
document.getElementById('stop').disabled = true;
document.getElementById('submit').disabled = false;
document.getElementById('start').value = '試験再開'
}

function submit(){
var now = new Date();
var grade = document.getElementById("grade").value;
var class_num = document.getElementById("class_num").value;
var syu_ban = document.getElementById("syu_ban").value;
var myname = document.getElementById("myname").value;
var data = {
"type" : "answer",
"data" : [now,0,grade,class_num,syu_ban,myname,0,0,0,0,0,0,0]
};
var name;
  for(var i=1;i<=30;i++){
name = 'no' + i
 var elements = document.getElementsByName(name);
for(var k=0; k<=8;k++){
if(elements[k].checked == true){
data["data"].push(elements[k].value);
  break
   }
if((elements[k].checked == false) && (k == 8)){
data["data"].push("");
}
  }
}

var postparam = {
"method" : "POST",
"mode" : "no-cors",
  "Content-Type" : "application/x-www-form-urlencoded",
  "body" : JSON.stringify(data)
};
fetch('https://script.google.com/macros/s/AKfycbypjAniZNGJL-Gu7l659Uw2yibI006ilyx1RAa2Khshhr97xsc/exec',postparam)
}

</script>
<style>
  body {
  font-family: sans-serif;
  background:#FFF;
  color:#000;
}
header{
  background: #3cb371;
  box-shadow:0 2px 5px rgba(0,0,0,.7);
  left:0;
  line-height:1;
  position:fixed;
  top:0;
  width:100%;
  height:50px;
  z-index:2;
  border: none;
}
.hptitle{
color:#FFF;
display: table-cell;
width:100%;
font-size:35px;
height:50px;
font-weight:700;
line-height: 35px;
vertical-align: middle;
}
@media screen and (max-width:740px) {
.hptitle{
color:#FFF;
display: table-cell;
width:100%;
font-size:4.72vw; 
height:50px;
line-height: 4.72vw;
font-weight:700;
vertical-align: middle;
white-space: nowrap;
}
}

  </style>
</head>
<body>
<header>
<div style="height:50px;text-align:center;display:table;width:100%"><span class="hptitle">大学入学共通テスト予想問題 地理Ｂ</span></div>
</header>
<div style="position:fixed; left: 0px; top: 50px; width:100%;display:table;background: #FFF;">
<a href="/common_test/geography_B_common_test_prediction_answer.pdf">解答・配点PDFをダウンロードする</a><br>
  <a href="/common_test/geography_B_common_test_prediction_description.pdf">解説PDFをダウンロードする</a>
</div>
<div style="padding-top:130px">
(解答番号<span style="width:3.5em;border:1.5pt solid #000;display: inline-block;text-align: center;">1</span>～<span style="width:3.5em;border:1.5pt solid #000;display: inline-block;text-align: center;">30</span>)
  </div>
  </body>

